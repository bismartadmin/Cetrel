--Se o código de compra for RRE, só permite salvar se o requisitante for: "INT - INTERNAL ORDER" e "INV - ORDER POINT LIST"
DECLARE
purchase_code_ VARCHAR2(20) := '&NEW:PURCHASE_CODE';
requisitioner_code_ VARCHAR2(20) := IFSCTR.PURCHASE_REQUISITION_API.Get_Requisitioner_Code('&NEW:REQUISITION_NO');

BEGIN
  IF purchase_code_ = 'RRE'
    AND requisitioner_code_ NOT IN ('INT','INV')
    THEN RAISE_APPLICATION_ERROR(-20100,
        'CTR_CONT_007: Requisição de Compra RRE só pode ser requerida por "INT - INTERNAL ORDER" e "INV - ORDER POINT LIST".');
  END IF;
END;
